{"version":3,"sources":["utils/api.js","utils/apiLogin.js","contexts/CurrentUserContext.js","utils/routesMap.js","image/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","image/SucReg.svg","image/FailReg.svg","components/InfoTooltip.js","components/NotFound.js","components/App.js","serviceWorker.js","index.js"],"names":["api","baseUrl","headers","this","url","jwt","fetch","method","Authorization","then","res","_getResponseData","card","localStorage","getItem","body","JSON","stringify","name","link","cardId","authorization","isLiked","ok","json","Promise","reject","Error","status","CurrentUserContext","React","createContext","ROUTES_MAP","Header","userMail","onSignOut","history","useHistory","className","to","src","logo","alt","path","exact","onClick","removeItem","push","Card","props","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","Provider","value","onCardClick","onCardDelete","Main","onEditAvatar","onEditProfile","onAddPlace","cards","onCardLike","avatar","about","map","key","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","id","noValidate","onSubmit","children","type","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","evt","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","reset","ref","AddPlacePopup","setLink","Login","email","setEmail","password","setPassword","console","error","onLogin","Register","onRegister","ProtectedRoute","Component","component","loggedIn","InfoTooltip","Success","Failed","NotFound","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isCardPopupOpen","setIsCardPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","isRegisterPopupOpen","setIsRegisterPopupOpen","setUserMail","statusReg","setStatusReg","closeEsc","closeAllPopups","getJWT","catch","getUserInfo","userInfo","err","log","getInitialCards","overlayClose","e","classList","contains","setEventListeners","document","addEventListener","removeEventListener","deleteCard","newCards","filter","c","registration","data","token","setItem","message","postNewCard","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","unregister"],"mappings":"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","file":"static/js/main.2720a105.chunk.js","sourcesContent":["class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this.url = baseUrl;\r\n    this.headers = headers;\r\n  };\r\n\r\n  getInitialCards(jwt) {\r\n    return fetch(`${this.url}/cards`, {\r\n      method: 'GET',\r\n      headers: {\r\n        // authorization: this.headers.authorization,\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${jwt}`,\r\n      },\r\n    }).then((res) => this._getResponseData(res));\r\n  };\r\n\r\n  postNewCard(card) {\r\n    const jwt = localStorage.getItem('jwt');\r\n    return fetch(`${this.url}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${jwt}`,\r\n      },\r\n      body: JSON.stringify({\r\n        name: card.name,\r\n        link: card.link,\r\n      }),\r\n    })\r\n      .then((res) => this._getResponseData(res));\r\n  };\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this.url}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this.headers.authorization,\r\n      },\r\n    })\r\n      .then((res) => this._getResponseData(res));\r\n  };\r\n\r\n  getUserInfo() {\r\n    const jwt = localStorage.getItem('jwt');\r\n    return fetch(`${this.url}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${jwt}`,\r\n        // authorization: this.headers.authorization,\r\n      },\r\n    })\r\n      .then((res) => this._getResponseData(res));\r\n  };\r\n\r\n  // setUserInfo(info) {\r\n  //   return fetch(`${this.url}/users/me`, {\r\n  //     method: \"PATCH\",\r\n  //     headers: this.headers,\r\n  //     body: JSON.stringify({\r\n  //       name: info.name,\r\n  //       about: info.about,\r\n  //     }),\r\n  //   })\r\n  //   .then((res) => this._getResponseData(res));\r\n  // };\r\n\r\n  // setNewAvatar(avatar) {\r\n  //   return fetch(`${this.url}/users/me/avatar`, {\r\n  //     method: \"PATCH\",\r\n  //     headers: this.headers,\r\n  //     body: JSON.stringify({\r\n  //       avatar: avatar,\r\n  //     }),\r\n  //   }).then((res) => this._getResponseData(res));\r\n  // };\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\r\n      method: (isLiked ? \"PUT\" : \"DELETE\"),\r\n      headers: {\r\n        authorization: this.headers.authorization,\r\n      },\r\n    })\r\n      .then((res) => this._getResponseData(res));\r\n  };\r\n\r\n  _getResponseData(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n  };\r\n};\r\n\r\n// export const api = new Api({\r\n//   baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\r\n//   headers: {\r\n//     authorization: '834b1617-1b88-4942-8049-fea5a8e726ef',\r\n//     'Content-Type': 'application/json'\r\n//   }\r\n// });\r\n\r\n\r\nexport const api = new Api({\r\n  baseUrl: 'https://www.api.nekker.students.nomoreparties.xyz',\r\n  headers: {\r\n    authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n    'Content-Type': 'application/json',\r\n  }\r\n});\r\n\r\n// export const api = new Api({\r\n//   baseUrl: 'http://localhost:3000',\r\n//   headers: {\r\n//     authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n//     'Content-Type': 'application/json',\r\n//   }\r\n// });\r\n","const baseUrl = 'https://www.api.nekker.students.nomoreparties.xyz';\r\n// const baseUrl = 'http://localhost:3000';\r\n\r\nexport const registration = (email, password) => {\r\n  return fetch(`${baseUrl}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      // return Promise.reject(res.status)\r\n      return\r\n    })\r\n};\r\n\r\nexport const onLogin = (email, password) => {\r\n  return fetch(`${baseUrl}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then((res) => {\r\n      if (res) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(res.status)\r\n    })\r\n};\r\n\r\nexport const getJWT = (jwt) => {\r\n  return fetch(`${baseUrl}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${jwt}`,\r\n    },\r\n  })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(res.status)\r\n    })\r\n};\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","export const ROUTES_MAP = {\r\n  MAIN: '/',\r\n  SIGN_UP: '/signup',\r\n  SIGN_IN: '/signin',\r\n  NOT_FOUND: '/404'\r\n};\r\n","export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from 'react';\r\nimport logo from '../image/logo.svg';\r\nimport { Route, useHistory, Link } from 'react-router-dom';\r\nimport { ROUTES_MAP } from '../utils/routesMap';\r\n\r\nfunction Header({ userMail, onSignOut }) {\r\n  const history = useHistory();\r\n\r\n  const exit = () => {\r\n    onSignOut();\r\n    localStorage.removeItem(\"jwt\");\r\n    history.push(\"/signin\");\r\n  };\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <Link to={ROUTES_MAP.MAIN}>\r\n        <img className=\"header__logo\" src={logo} alt=\"Логотип\" />\r\n      </Link>\r\n\r\n      <Route path={ROUTES_MAP.MAIN} exact>\r\n        <div className=\"header__user\">\r\n          <p className=\"header__user-mail\">{userMail}</p>\r\n          <Link className=\"header__link\" to={ROUTES_MAP.SIGN_IN} onClick={exit}>\r\n            Выйти\r\n        </Link>\r\n        </div>\r\n      </Route>\r\n\r\n      <Route path={ROUTES_MAP.SIGN_UP}>\r\n        <Link className=\"header__link\" to={ROUTES_MAP.SIGN_IN}>\r\n          Войти\r\n        </Link>\r\n      </Route>\r\n\r\n      <Route path={ROUTES_MAP.SIGN_IN}>\r\n        <Link className=\"header__link\" to={ROUTES_MAP.SIGN_UP}>\r\n          Регистрация\r\n        </Link>\r\n      </Route>\r\n\r\n      <Route path={ROUTES_MAP.NOT_FOUND}>\r\n        <Link className=\"header__link\" to={ROUTES_MAP.MAIN}>\r\n          На главную\r\n        </Link>\r\n      </Route>\r\n\r\n    </header >\r\n  )\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner === currentUser._id;\r\n  const cardDeleteButtonClassName = (`element__delete ${isOwn ? '' : 'element__delete element__delete_hide'}`);\r\n  // const isLiked = props.card.likes.some(user => user._id === currentUser._id);\r\n  // const cardLikeButtonClassName = (`element__like ${isLiked ? 'elememt__like_active' : ''}`);\r\n\r\n  function handleClick() { props.onCardClick(props.card); }\r\n  // function handleLikeClick() { props.onCardLike(props.card); }\r\n  function handleDeleteCard() { props.onCardDelete(props.card); }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <li className=\"element\">\r\n        <img\r\n          className=\"element__image\"\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          onClick={handleClick}\r\n        />\r\n        <button\r\n          className={cardDeleteButtonClassName}\r\n          onClick={handleDeleteCard}\r\n        />\r\n        <div className=\"element__info\">\r\n          <h2 className=\"element__title\">{props.card.name}</h2>\r\n          {/* <div className=\"element__likes-container\">\r\n            <button\r\n              type=\"button\"\r\n              className={cardLikeButtonClassName}\r\n              onClick={handleLikeClick}\r\n            />\r\n            <p className=\"element__likes\">{props.card.likes.length}</p>\r\n          </div> */}\r\n        </div>\r\n      </li>\r\n    </CurrentUserContext.Provider >\r\n  )\r\n};\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      {/* Профиль */}\r\n      <section className=\"profile\">\r\n        <div className=\"profile__img\">\r\n          {/* <span className=\"profile__overlay\" onClick={onEditAvatar} /> */}\r\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\" />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__title-row\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            {/* <button className=\"profile__button-edit\" onClick={onEditProfile} /> */}\r\n          </div>\r\n          <p className=\"profile__profession\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__button-add\" onClick={onAddPlace} />\r\n      </section>\r\n      {/* Места */}\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n\r\n          {cards.map((card) => {\r\n            return (\r\n              <Card\r\n                card={card}\r\n                onCardClick={onCardClick}\r\n                key={card._id}\r\n              // onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n              />\r\n            )\r\n          })}\r\n\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n};\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\" >\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer >\r\n  )\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react'\r\n\r\nfunction ImagePopup({card, isOpen, onClose}) {\r\n   return (\r\n    <div className={`popup popup_type_photo ${isOpen && `popup_opened`}`}>\r\n      <figure className=\"popup__content\">\r\n        <img className=\"popup__image\" src={card.link} alt=\"Фото места\" />\r\n        <figcaption className=\"popup__caption\">{card.name}</figcaption>\r\n        <button className=\"popup__button-close popup__button-close_for_img\" onClick={onClose} />\r\n      </figure>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default ImagePopup;\r\n","import React from 'react';\r\n\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen && `popup_opened`}`}>\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form\r\n          id={`form-${props.name}`}\r\n          className=\"popup__form\"\r\n          noValidate\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          {props.children}\r\n          <button\r\n            type=\"submit\"\r\n            className=\"popup__button-save\"\r\n  >{props.buttonText}</button>\r\n        </form>\r\n        <button\r\n          className=\"popup__button-close\"\r\n          onClick={props.onClose}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen])\r\n\r\n  function handleNameChange(evt) { setName(evt.target.value); }\r\n  function handlDescriptionChange(evt) { setDescription(evt.target.value); }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText={props.buttonText}\r\n    >\r\n      <input\r\n        id=\"profile-name\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        className=\"popup__input\"\r\n        placeholder=\"Имя\"\r\n        required\r\n        minLength={2}\r\n        maxLength={40}\r\n        value={name || ''}\r\n        onChange={handleNameChange}\r\n      />\r\n\r\n      <span id=\"profile-name-error\" className=\"popup__input_error\" />\r\n\r\n      <input\r\n        id=\"profile-profession\"\r\n        type=\"text\"\r\n        name=\"about\"\r\n        className=\"popup__input popup__input_compl\"\r\n        placeholder=\"О себе\"\r\n        required\r\n        minLength={2}\r\n        maxLength={200}\r\n        value={description || ''}\r\n        onChange={handlDescriptionChange}\r\n      />\r\n\r\n      <span id=\"profile-profession-error\" className=\"popup__input_error\" />\r\n    </PopupWithForm>\r\n  )\r\n};\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateAvatar(avatarRef.current.value);\r\n    evt.target.reset();\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText={props.buttonText}\r\n    >\r\n      <input\r\n        id=\"avatar-link\"\r\n        type=\"url\"\r\n        name=\"avatar\"\r\n        className=\"popup__input\"\r\n        placeholder=\"Ссылка на аватарку\"\r\n        required\r\n        ref={avatarRef}\r\n      />\r\n      <span id=\"avatar-link-error\" className=\"popup__input_error\" />\r\n    </PopupWithForm>\r\n  )\r\n};\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  const handleNameChange = (evt) => {\r\n    setName(evt.target.value);\r\n  };\r\n  const handleLinkChange = (evt) => {\r\n    setLink(evt.target.value);\r\n  };\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n    setName('');\r\n    setLink('');\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-place\"\r\n      title=\"Новое место\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText={props.buttonText}\r\n    >\r\n      <input\r\n        id=\"place-name\"\r\n        type=\"text\"\r\n        name=\"photoname\"\r\n        className=\"popup__input\"\r\n        placeholder=\"Название\"\r\n        required\r\n        minLength={2} maxLength={30}\r\n        value={name}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span id=\"place-name-error\" className=\"popup__input_error\" />\r\n      <input\r\n        id=\"place-link\"\r\n        type=\"url\"\r\n        name=\"photolink\"\r\n        className=\"popup__input popup__input_compl\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        value={link}\r\n        onChange={handleLinkChange}\r\n      />\r\n      <span id=\"place-link-error\" className=\"popup__input_error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  const handleEmailChange = (evt) => {\r\n    setEmail(evt.target.value);\r\n  };\r\n\r\n  const handlePasswordChange = (evt) => {\r\n    setPassword(evt.target.value);\r\n  };\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    if (!email || !password) {\r\n      console.error(\"Введите данные\");\r\n    }\r\n    props.onLogin(email, password);\r\n    // setEmail(\"\");\r\n    // setPassword(\"\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h2 className=\"login__title\">Вход</h2>\r\n      <form\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input\r\n          className=\"login__input\"\r\n          type=\"email\"\r\n          required={true}\r\n          placeholder=\"Email\"\r\n          onChange={handleEmailChange}\r\n        />\r\n\r\n        <input\r\n          className=\"login__input\"\r\n          type=\"password\"\r\n          required={true}\r\n          placeholder=\"Пароль\"\r\n          onChange={handlePasswordChange}\r\n        />\r\n\r\n        <button type=\"submit\" className=\"login__submit-button\">\r\n          Войти\r\n      </button>\r\n      </form>\r\n    </div>\r\n\r\n  )\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { ROUTES_MAP } from '../utils/routesMap';\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  const handleEmailChange = (evt) => {\r\n    setEmail(evt.target.value);\r\n  };\r\n\r\n  const handlePasswordChange = (evt) => {\r\n    setPassword(evt.target.value);\r\n  };\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    if (!email || !password) {\r\n      console.error(\"Введите данные\");\r\n      setEmail(\"\");\r\n      setPassword(\"\");\r\n    }\r\n    props.onRegister(email, password);\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h2 className=\"login__title\">Регистрация</h2>\r\n      <form\r\n        className=\"login__form\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input\r\n          className=\"login__input\"\r\n          type=\"email\"\r\n          required={true}\r\n          placeholder=\"Email\"\r\n          onChange={handleEmailChange}\r\n\r\n        />\r\n        <div className=\"login__input-box\">\r\n          <input\r\n            className=\"login__input\"\r\n            type=\"password\"\r\n            required={true}\r\n            placeholder=\"Пароль\"\r\n            onChange={handlePasswordChange}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"login__submit-button\">\r\n          Зарегистрироваться\r\n      </button>\r\n      </form>\r\n\r\n      <Link className=\"login__link\" to={ROUTES_MAP.SIGN_IN}>\r\n        <p className=\"login__link_text\">Уже зарегистрированы? Войти</p>\r\n      </Link>\r\n\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { ROUTES_MAP } from '../utils/routesMap';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to={ROUTES_MAP.SIGN_IN} />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","export default __webpack_public_path__ + \"static/media/SucReg.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/FailReg.df8eddf6.svg\";","import React from 'react';\r\nimport Success from '../image/SucReg.svg';\r\nimport Failed from './../image/FailReg.svg';\r\n\r\nfunction InfoTooltip({ isOpen, onClose, status }) {\r\n  return (\r\n    <div className={`popup popup_tooltip ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className='popup__container'>\r\n        <img\r\n          alt='результат'\r\n          className='popup__picture'\r\n          src={status ? Success : Failed}\r\n        />\r\n        <h2 className='popup__title popup__title_tooltip'>\r\n          {status ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n        </h2>\r\n        <button\r\n          type='button'\r\n          className='popup__button-close'\r\n          onClick={onClose}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InfoTooltip;\r\n","import React from 'react';\r\n\r\nfunction NotFound() {\r\n  return (\r\n    <div className=\"not-found\">\r\n      <h2 className=\"not-found__title\">404</h2>\r\n      <p className=\"not-found__text\">Страница не найдена</p>\r\n      <p className=\"not-found__text\">То что вы ищите, не существует</p>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default NotFound;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\nimport { api } from '../utils/api';\r\nimport { getJWT, onLogin, registration } from \"./../utils/apiLogin\";\r\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\r\nimport { ROUTES_MAP } from '../utils/routesMap';\r\nimport Header from './Header'\r\nimport Main from './Main'\r\nimport Footer from './Footer'\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport Login from './Login';\r\nimport Register from \"./Register\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport NotFound from \"./NotFound\";\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isCardPopupOpen, setIsCardPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState([]);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [isRegisterPopupOpen, setIsRegisterPopupOpen] = useState(false);\r\n  const [userMail, setUserMail] = useState('');\r\n  const [statusReg, setStatusReg] = useState(false)\r\n\r\n  const history = useHistory();\r\n\r\n\r\n  useEffect(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n      getJWT(jwt)\r\n        .then((res) => {\r\n          if (res) {\r\n            setCurrentUser(res);\r\n            setLoggedIn(true);\r\n            setUserMail(res.email);\r\n            history.push(\"/\");\r\n          } else {\r\n            setLoggedIn(false);\r\n            history.push(\"/signin\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n        });\r\n    };\r\n  }, [loggedIn, history]);\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      api\r\n        .getUserInfo()\r\n        .then((userInfo) => {\r\n          setCurrentUser(userInfo);\r\n        })\r\n        .catch((err) => {\r\n          console.log(`Данные о пользователе не получены. ${err}`);\r\n        });\r\n    }\r\n  }, [loggedIn]);\r\n\r\n  useEffect(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (loggedIn) {\r\n      api\r\n        .getInitialCards(jwt)\r\n        .then((card) => {\r\n          setCards(card);\r\n        })\r\n        .catch((err) => {\r\n          console.log(`Данные карточек не получены. ${err}`);\r\n        });\r\n    }\r\n  }, [loggedIn]);\r\n\r\n  // function handleCardLike(card) {\r\n  //   const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  //   api\r\n  //     .changeLikeCardStatus(card._id, !isLiked)\r\n  //     .then((newCard) => {\r\n  //       const newCards = cards.map((res) => res._id === card._id ? newCard : res);\r\n  //       setCards(newCards);\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       console.log(`Ошибка лайка. ${err}`);\r\n  //     });\r\n  // }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка удаления карточки. ${err}`);\r\n      });\r\n  };\r\n\r\n  // function handleEditAvatarClick() {\r\n  //   setIsEditAvatarPopupOpen(true);\r\n  // }\r\n\r\n  // function handleEditProfileClick() {\r\n  //   setIsEditProfilePopupOpen(true);\r\n  // }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n    setEventListeners();\r\n  };\r\n\r\n  function handleCardClick(card) {\r\n    setIsCardPopupOpen(true);\r\n    setSelectedCard(card);\r\n    setEventListeners();\r\n  };\r\n\r\n  function closeEsc(evt) {\r\n    if ((evt.key === 'Escape') && (isEditAvatarPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || isCardPopupOpen)) {\r\n      closeAllPopups();\r\n    }\r\n  };\r\n\r\n  const overlayClose = (e) => {\r\n    if (e.target.classList.contains('popup')) {\r\n      closeAllPopups();\r\n    }\r\n  };\r\n  const setEventListeners = () => {\r\n    document.addEventListener('keydown', closeEsc);\r\n    document.addEventListener('click', overlayClose);\r\n  };\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsRegisterPopupOpen(false);\r\n    setIsCardPopupOpen(false);\r\n    document.removeEventListener('keydown', closeEsc);\r\n    document.removeEventListener('click', overlayClose);\r\n  };\r\n\r\n  // function handleUpdateUser(info) {\r\n  //   api\r\n  //     .setUserInfo(info)\r\n  //     .then((res) => {\r\n  //       setCurrentUser(res);\r\n  //       closeAllPopups();\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       console.log(`Ошибка обновления данных пользователя. ${err}`);\r\n  //     })\r\n  // }\r\n\r\n  // function handleUpdateAvatar(avatar) {\r\n  //   api\r\n  //     .setNewAvatar(avatar)\r\n  //     .then((res) => {\r\n  //       setCurrentUser(res);\r\n  //       closeAllPopups();\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       console.log(`Ошибка обновления аватара. ${err}`);\r\n  //     })\r\n  // }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    api\r\n      .postNewCard(card)\r\n      .then((res) => {\r\n        const newCard = res;\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка добавления карточки. ${err}`);\r\n      })\r\n  };\r\n\r\n  function handleRegister(email, password) {\r\n    registration(email, password)\r\n      .then((res) => {\r\n        setIsRegisterPopupOpen(true);\r\n        if (res.data.email === email) {\r\n              setStatusReg(true)\r\n          history.push(\"/signin\");\r\n        } else {\r\n          setStatusReg(false)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setIsRegisterPopupOpen(true);\r\n        if (err === 401) {\r\n          console.log(\"Переданный токен некорректен\");\r\n        } else {\r\n          console.log(`Ошибка: ${err}`);\r\n        }\r\n      });\r\n  };\r\n\r\n  function handleLogin(email, password) {\r\n    onLogin(email, password)\r\n      .then((res) => {\r\n        if (res.token) {\r\n          setUserMail(email);\r\n          localStorage.setItem(\"jwt\", res.token);\r\n          setLoggedIn(true);\r\n          history.push(\"/\");\r\n        } else if (res.message) {\r\n          console.error(res.message)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        if (err === 400) {\r\n          console.log(\"Не передано одно из полей\");\r\n        } else if (err === 401) {\r\n          console.log(\"Пользователь не зарегестрирован\");\r\n        } else {\r\n          console.log(`Ошибка: ${err}`);\r\n        }\r\n      });\r\n  };\r\n\r\n  function handleLogout() {\r\n    setLoggedIn(false);\r\n    localStorage.removeItem('jwt');\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n  //     .then(([values, card]) => {\r\n  //       setCurrentUser(values);\r\n  //       setCards(card);\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       console.log(`Данные не получены. ${err}`);\r\n  //     })\r\n  // }, []);\r\n\r\n\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      {/* <div style={{ backgroundColor: \"#000\" }}> */}\r\n      <div className=\"page\">\r\n\r\n        <Header\r\n          userMail={userMail}\r\n          onSignOut={handleLogout}\r\n        />\r\n\r\n        <Switch>\r\n          <ProtectedRoute path={ROUTES_MAP.MAIN} exact\r\n            component={Main}\r\n            loggedIn={loggedIn}\r\n            // onEditAvatar={handleEditAvatarClick}\r\n            // onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n            cards={cards}\r\n            // onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n          />\r\n\r\n          <Route path={ROUTES_MAP.SIGN_UP}>\r\n            <Register\r\n              onRegister={handleRegister}\r\n            />\r\n          </Route>\r\n\r\n          <Route path={ROUTES_MAP.SIGN_IN}>\r\n            <Login\r\n              onLogin={handleLogin}\r\n            />\r\n          </Route>\r\n\r\n          <Route path=\"*\">\r\n            <NotFound />\r\n          </Route>\r\n        </Switch>\r\n\r\n        <Footer />\r\n\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          // onUpdateAvatar={handleUpdateAvatar}\r\n          buttonText='Сохранить'\r\n        />\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          // onUpdateUser={handleUpdateUser}\r\n          buttonText='Сохранить'\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n          buttonText='Создать'\r\n        />\r\n\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          isOpen={isCardPopupOpen}\r\n          onClose={closeAllPopups}\r\n        />\r\n\r\n        <InfoTooltip\r\n          isOpen={isRegisterPopupOpen}\r\n          onClose={closeAllPopups}\r\n          status={statusReg}\r\n        />\r\n\r\n      </div>\r\n      {/* </div > */}\r\n\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}